<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSCF+: Util::AverageStage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSCF+
   &#160;<span id="projectnumber">v1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceUtil.html">Util</a></li><li class="navelem"><a class="el" href="classUtil_1_1AverageStage.html">AverageStage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classUtil_1_1AverageStage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Util::AverageStage Class Reference<div class="ingroups"><a class="el" href="group__Util__NS__Module.html">Util namespace</a> &raquo; <a class="el" href="group__Accumulators__Module.html">Accumulators</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Evaluate average with hierarchical blocking error analysis.  
 <a href="classUtil_1_1AverageStage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AverageStage_8h_source.html">AverageStage.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Util::AverageStage:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classUtil_1_1AverageStage.png" usemap="#Util::AverageStage_map" alt=""/>
  <map id="Util::AverageStage_map" name="Util::AverageStage_map">
<area href="classUtil_1_1Average.html" title="Calculates the average and variance of a sampled property." alt="Util::Average" shape="rect" coords="0,56,116,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7701e756ad43b74902b286c725b06da3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a7701e756ad43b74902b286c725b06da3">AverageStage</a> (int blockFactor=2)</td></tr>
<tr class="memdesc:a7701e756ad43b74902b286c725b06da3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classUtil_1_1AverageStage.html#a7701e756ad43b74902b286c725b06da3">More...</a><br /></td></tr>
<tr class="separator:a7701e756ad43b74902b286c725b06da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a213800ca7b66ec765edafd5a4b667cda"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a213800ca7b66ec765edafd5a4b667cda">~AverageStage</a> ()</td></tr>
<tr class="memdesc:a213800ca7b66ec765edafd5a4b667cda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classUtil_1_1AverageStage.html#a213800ca7b66ec765edafd5a4b667cda">More...</a><br /></td></tr>
<tr class="separator:a213800ca7b66ec765edafd5a4b667cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8eed31e022fd90bcb063064d4afb14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a1e8eed31e022fd90bcb063064d4afb14">setBlockFactor</a> (int blockFactor)</td></tr>
<tr class="memdesc:a1e8eed31e022fd90bcb063064d4afb14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the value of blockFactor.  <a href="classUtil_1_1AverageStage.html#a1e8eed31e022fd90bcb063064d4afb14">More...</a><br /></td></tr>
<tr class="separator:a1e8eed31e022fd90bcb063064d4afb14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9065506a570a96cf72e66b574f9f1a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a2c9065506a570a96cf72e66b574f9f1a">clear</a> ()</td></tr>
<tr class="memdesc:a2c9065506a570a96cf72e66b574f9f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all accumulators and recursively destroy all children.  <a href="classUtil_1_1AverageStage.html#a2c9065506a570a96cf72e66b574f9f1a">More...</a><br /></td></tr>
<tr class="separator:a2c9065506a570a96cf72e66b574f9f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a1cf9ab8b5478c5ff655705bf1e380"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a27a1cf9ab8b5478c5ff655705bf1e380">sample</a> (double value)</td></tr>
<tr class="memdesc:a27a1cf9ab8b5478c5ff655705bf1e380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a sampled value to the ensemble.  <a href="classUtil_1_1AverageStage.html#a27a1cf9ab8b5478c5ff655705bf1e380">More...</a><br /></td></tr>
<tr class="separator:a27a1cf9ab8b5478c5ff655705bf1e380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845f62098e78b0be73189d84994d648b"><td class="memTemplParams" colspan="2">template&lt;class Archive &gt; </td></tr>
<tr class="memitem:a845f62098e78b0be73189d84994d648b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a845f62098e78b0be73189d84994d648b">serialize</a> (Archive &amp;ar, const unsigned int version)</td></tr>
<tr class="memdesc:a845f62098e78b0be73189d84994d648b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a sampled value to the ensemble.  <a href="classUtil_1_1AverageStage.html#a845f62098e78b0be73189d84994d648b">More...</a><br /></td></tr>
<tr class="separator:a845f62098e78b0be73189d84994d648b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Accessors</h2></td></tr>
<tr class="memitem:a8e5e5d3633513b373fbf3d607820e087"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a8e5e5d3633513b373fbf3d607820e087">average</a> () const</td></tr>
<tr class="memdesc:a8e5e5d3633513b373fbf3d607820e087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the average of all sampled values.  <a href="classUtil_1_1AverageStage.html#a8e5e5d3633513b373fbf3d607820e087">More...</a><br /></td></tr>
<tr class="separator:a8e5e5d3633513b373fbf3d607820e087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2cdf8a6542b55ed052cbb397eac86f7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#aa2cdf8a6542b55ed052cbb397eac86f7">variance</a> () const</td></tr>
<tr class="memdesc:aa2cdf8a6542b55ed052cbb397eac86f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the variance of all sampled values.  <a href="classUtil_1_1AverageStage.html#aa2cdf8a6542b55ed052cbb397eac86f7">More...</a><br /></td></tr>
<tr class="separator:aa2cdf8a6542b55ed052cbb397eac86f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad710fb80d0f4e75b93417560b0fe1380"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#ad710fb80d0f4e75b93417560b0fe1380">stdDeviation</a> () const</td></tr>
<tr class="memdesc:ad710fb80d0f4e75b93417560b0fe1380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the standard deviation of all sampled values.  <a href="classUtil_1_1AverageStage.html#ad710fb80d0f4e75b93417560b0fe1380">More...</a><br /></td></tr>
<tr class="separator:ad710fb80d0f4e75b93417560b0fe1380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25752465fb4d68fa72ffe445432df4f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#ac25752465fb4d68fa72ffe445432df4f">error</a> () const</td></tr>
<tr class="memdesc:ac25752465fb4d68fa72ffe445432df4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a naive estimate for the std deviation of the average.  <a href="classUtil_1_1AverageStage.html#ac25752465fb4d68fa72ffe445432df4f">More...</a><br /></td></tr>
<tr class="separator:ac25752465fb4d68fa72ffe445432df4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c016a2244ef085973a723e37f96dad"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#ad2c016a2244ef085973a723e37f96dad">nSample</a> () const</td></tr>
<tr class="memdesc:ad2c016a2244ef085973a723e37f96dad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of sampled values in this sequence.  <a href="classUtil_1_1AverageStage.html#ad2c016a2244ef085973a723e37f96dad">More...</a><br /></td></tr>
<tr class="separator:ad2c016a2244ef085973a723e37f96dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e8e985d879ac2fc753b412120473ad"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a24e8e985d879ac2fc753b412120473ad">stageInterval</a> () const</td></tr>
<tr class="memdesc:a24e8e985d879ac2fc753b412120473ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of sampled values per block at this stage.  <a href="classUtil_1_1AverageStage.html#a24e8e985d879ac2fc753b412120473ad">More...</a><br /></td></tr>
<tr class="separator:a24e8e985d879ac2fc753b412120473ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a68dc753a2a7069956240fb9cbe4ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#a08a68dc753a2a7069956240fb9cbe4ac">hasChild</a> () const</td></tr>
<tr class="memdesc:a08a68dc753a2a7069956240fb9cbe4ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this object have a child <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> for block averages?  <a href="classUtil_1_1AverageStage.html#a08a68dc753a2a7069956240fb9cbe4ac">More...</a><br /></td></tr>
<tr class="separator:a08a68dc753a2a7069956240fb9cbe4ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88bc31cf10bb51036015e156b3f5a74"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classUtil_1_1AverageStage.html">AverageStage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUtil_1_1AverageStage.html#ac88bc31cf10bb51036015e156b3f5a74">child</a> ()</td></tr>
<tr class="memdesc:ac88bc31cf10bb51036015e156b3f5a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the child <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> by reference.  <a href="classUtil_1_1AverageStage.html#ac88bc31cf10bb51036015e156b3f5a74">More...</a><br /></td></tr>
<tr class="separator:ac88bc31cf10bb51036015e156b3f5a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Evaluate average with hierarchical blocking error analysis. </p>
<p>This class implements an algorithm to evaluate the average of a sequence, using a hierarchical blocking algorithm to estimate the error on the average. The algorithm is based on the calculation of variances for sequences of block averages for multiple levels of block sizes, as described in the following reference:</p>
<p>``Error estimates on averages of correlated data", H. Flyvbjerg and H.G. Petersen, J. Chem. Phys. 91, pgs. 461-466 (1989).</p>
<p>The blocking algorithm is implemented here by a creating a linked list of <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> objects, each of which is responsible for computing the variance on block averages using a different level of blocking. Each object in this list is assigned an integer chainId. The first <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> object in the list, with chainId=0, calculates the average and variance for a "primary" sequence of measured values that are passed as parameters to its sample method. This first object is normally an instance of the <a class="el" href="classUtil_1_1Average.html" title="Calculates the average and variance of a sampled property.">Average</a> class, which is a subclass of <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> that implements features that are only required by the primary stage. This object has a pointer to a child <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> with chainId=1 that calculates the variance of a secondary sequence in which each value is the average of blockFactor consecutive values in the primary sequence. The object with chainId=1 in turn has has a pointer to a child object with chainId=2 that calculates the variance of a sequence in which each value is the average of a block of blockFactor**2 consecutive values of the primary sequence, and so on. In general, the object with chainId=n, calculates the variance of a sequence in which each value is an average of blockFactor**n values of the primary sequence. Each value in the sequence analyzed by the object with chainId=n+1 is calculated by the parent object with chainId=n, by calculating an average of a block of blockFactor consecutive values of its own sequence and passing this block average as a parameter the <a class="el" href="classUtil_1_1AverageStage.html#a27a1cf9ab8b5478c5ff655705bf1e380" title="Add a sampled value to the ensemble.">sample()</a> function of the object with chainId=n+1. New stages in this linked list are instantiated and to the list as needed as the length of the primary sequence grows: When an object with chainId=n has been passed a sequence of exactly blockFactor values, it creates a child <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> object with chainId=n+1 and passes the average of these first blockFactor values to the sample function of the child object as the first value in its sequence.</p>
<p>A value of the integer parameter blockFactor is passed to the constructor of the primary <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> object. This parameter is set to blockFactor=2 by default. Its value may be reset using the <a class="el" href="classUtil_1_1AverageStage.html#a1e8eed31e022fd90bcb063064d4afb14" title="Reset the value of blockFactor.">setBlockFactor()</a> function before any data is sampled, but may not be changed thereafter. </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8h_source.html#l00066">66</a> of file <a class="el" href="AverageStage_8h_source.html">AverageStage.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7701e756ad43b74902b286c725b06da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7701e756ad43b74902b286c725b06da3">&#9670;&nbsp;</a></span>AverageStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Util::AverageStage::AverageStage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockFactor</em> = <code>2</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>This constructor creates a primary <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> object with stageId = 0 and stageInterval = 1. A private constructor is used to recursively create children of this object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blockFactor</td><td>ratio of block sizes of subsequent stages </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00020">20</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="AverageStage_8cpp_source.html#l00095">sample()</a>, and <a class="el" href="AverageStage_8h_source.html#l00252">serialize()</a>.</p>

</div>
</div>
<a id="a213800ca7b66ec765edafd5a4b667cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a213800ca7b66ec765edafd5a4b667cda">&#9670;&nbsp;</a></span>~AverageStage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Util::AverageStage::~AverageStage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Recursively destroy all children. </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00053">53</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1e8eed31e022fd90bcb063064d4afb14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8eed31e022fd90bcb063064d4afb14">&#9670;&nbsp;</a></span>setBlockFactor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Util::AverageStage::setBlockFactor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockFactor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the value of blockFactor. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classUtil_1_1Exception.html" title="A user-defined exception.">Exception</a></td><td>if called when nSample &gt; 0. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00063">63</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">References <a class="el" href="global_8h_source.html#l00051">UTIL_THROW</a>.</p>

</div>
</div>
<a id="a2c9065506a570a96cf72e66b574f9f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9065506a570a96cf72e66b574f9f1a">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Util::AverageStage::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize all accumulators and recursively destroy all children. </p>

<p>Reimplemented in <a class="el" href="classUtil_1_1Average.html#a03fe5551e0a62d22ef7b923c94a457de">Util::Average</a>.</p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00080">80</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="Average_8cpp_source.html#l00042">Util::Average::clear()</a>.</p>

</div>
</div>
<a id="a27a1cf9ab8b5478c5ff655705bf1e380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a1cf9ab8b5478c5ff655705bf1e380">&#9670;&nbsp;</a></span>sample()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Util::AverageStage::sample </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a sampled value to the ensemble. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>sampled value </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classUtil_1_1Average.html#adf13dad094b6b95cbbd7d7a7dc9fb65c">Util::Average</a>.</p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00095">95</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">References <a class="el" href="AverageStage_8cpp_source.html#l00020">AverageStage()</a>, and <a class="el" href="AverageStage_8cpp_source.html#l00095">sample()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AverageStage_8cpp_source.html#l00095">sample()</a>, and <a class="el" href="Average_8cpp_source.html#l00094">Util::Average::sample()</a>.</p>

</div>
</div>
<a id="a845f62098e78b0be73189d84994d648b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845f62098e78b0be73189d84994d648b">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Archive &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Util::AverageStage::serialize </td>
          <td>(</td>
          <td class="paramtype">Archive &amp;&#160;</td>
          <td class="paramname"><em>ar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a sampled value to the ensemble. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ar</td><td>input or output archive </td></tr>
    <tr><td class="paramname">version</td><td>file version id </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="AverageStage_8h_source.html#l00252">252</a> of file <a class="el" href="AverageStage_8h_source.html">AverageStage.h</a>.</p>

<p class="reference">References <a class="el" href="AverageStage_8cpp_source.html#l00020">AverageStage()</a>, and <a class="el" href="AverageStage_8h_source.html#l00237">hasChild()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Average_8cpp_source.html#l00074">Util::Average::loadParameters()</a>, and <a class="el" href="Average_8h_source.html#l00252">Util::Average::serialize()</a>.</p>

</div>
</div>
<a id="a8e5e5d3633513b373fbf3d607820e087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5e5d3633513b373fbf3d607820e087">&#9670;&nbsp;</a></span>average()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Util::AverageStage::average </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the average of all sampled values. </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00131">131</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="Average_8cpp_source.html#l00178">Util::Average::output()</a>.</p>

</div>
</div>
<a id="aa2cdf8a6542b55ed052cbb397eac86f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2cdf8a6542b55ed052cbb397eac86f7">&#9670;&nbsp;</a></span>variance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Util::AverageStage::variance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the variance of all sampled values. </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00137">137</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="AverageStage_8cpp_source.html#l00166">error()</a>, <a class="el" href="Average_8cpp_source.html#l00178">Util::Average::output()</a>, and <a class="el" href="AverageStage_8cpp_source.html#l00148">stdDeviation()</a>.</p>

</div>
</div>
<a id="ad710fb80d0f4e75b93417560b0fe1380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad710fb80d0f4e75b93417560b0fe1380">&#9670;&nbsp;</a></span>stdDeviation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Util::AverageStage::stdDeviation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the standard deviation of all sampled values. </p>
<dl class="section return"><dt>Returns</dt><dd>sqrt(variance()) </dd></dl>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00148">148</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">References <a class="el" href="AverageStage_8cpp_source.html#l00137">variance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Average_8cpp_source.html#l00178">Util::Average::output()</a>.</p>

</div>
</div>
<a id="ac25752465fb4d68fa72ffe445432df4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25752465fb4d68fa72ffe445432df4f">&#9670;&nbsp;</a></span>error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Util::AverageStage::error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a naive estimate for the std deviation of the average. </p>
<dl class="section return"><dt>Returns</dt><dd>sqrt(<a class="el" href="classUtil_1_1AverageStage.html#aa2cdf8a6542b55ed052cbb397eac86f7" title="Return the variance of all sampled values.">variance()</a>/nSample()) </dd></dl>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00166">166</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">References <a class="el" href="AverageStage_8cpp_source.html#l00137">variance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Average_8cpp_source.html#l00133">Util::Average::blockingError()</a>, and <a class="el" href="Average_8cpp_source.html#l00178">Util::Average::output()</a>.</p>

</div>
</div>
<a id="ad2c016a2244ef085973a723e37f96dad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c016a2244ef085973a723e37f96dad">&#9670;&nbsp;</a></span>nSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long Util::AverageStage::nSample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of sampled values in this sequence. </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00154">154</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="Average_8cpp_source.html#l00133">Util::Average::blockingError()</a>, and <a class="el" href="Average_8cpp_source.html#l00178">Util::Average::output()</a>.</p>

</div>
</div>
<a id="a24e8e985d879ac2fc753b412120473ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24e8e985d879ac2fc753b412120473ad">&#9670;&nbsp;</a></span>stageInterval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long Util::AverageStage::stageInterval </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of sampled values per block at this stage. </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8cpp_source.html#l00160">160</a> of file <a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="Average_8cpp_source.html#l00178">Util::Average::output()</a>.</p>

</div>
</div>
<a id="a08a68dc753a2a7069956240fb9cbe4ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08a68dc753a2a7069956240fb9cbe4ac">&#9670;&nbsp;</a></span>hasChild()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Util::AverageStage::hasChild </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this object have a child <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> for block averages? </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8h_source.html#l00237">237</a> of file <a class="el" href="AverageStage_8h_source.html">AverageStage.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="AverageStage_8h_source.html#l00252">serialize()</a>.</p>

</div>
</div>
<a id="ac88bc31cf10bb51036015e156b3f5a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88bc31cf10bb51036015e156b3f5a74">&#9670;&nbsp;</a></span>child()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUtil_1_1AverageStage.html">AverageStage</a> &amp; Util::AverageStage::child </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the child <a class="el" href="classUtil_1_1AverageStage.html" title="Evaluate average with hierarchical blocking error analysis.">AverageStage</a> by reference. </p>

<p class="definition">Definition at line <a class="el" href="AverageStage_8h_source.html#l00243">243</a> of file <a class="el" href="AverageStage_8h_source.html">AverageStage.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AverageStage_8h_source.html">AverageStage.h</a></li>
<li><a class="el" href="AverageStage_8cpp_source.html">AverageStage.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 6 2024 21:57:45 for PSCF+ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
