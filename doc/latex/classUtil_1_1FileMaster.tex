\hypertarget{classUtil_1_1FileMaster}{}\doxysubsection{Util\+::File\+Master Class Reference}
\label{classUtil_1_1FileMaster}\index{Util::FileMaster@{Util::FileMaster}}


A \mbox{\hyperlink{classUtil_1_1FileMaster}{File\+Master}} manages input and output files for a simulation.  




{\ttfamily \#include $<$File\+Master.\+h$>$}

Inheritance diagram for Util\+::File\+Master\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classUtil_1_1FileMaster}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classUtil_1_1FileMaster_a3a2076a0a99e8bf9771da07adddab445}{File\+Master}} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classUtil_1_1FileMaster_ab8c226b9cc0eb69f8c4eb71b76a50431}{File\+Master}} (const \mbox{\hyperlink{classUtil_1_1FileMaster}{File\+Master}} \&copy)
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classUtil_1_1FileMaster_ac6cfc4669da3c02c2817813e9b281bfb}{$\sim$\+File\+Master}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Initialization}\par
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_ad3c7e95b9853b10bde9bcaf4c1cae60c}{set\+Root\+Prefix}} (const std\+::string \&root\+Prefix)
\begin{DoxyCompactList}\small\item\em Set the path from current directory to root directory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_ae295d9dc32e5ee3b4ac2b4b2a8f185f1}{set\+Directory\+Id}} (int directory\+Id)
\begin{DoxyCompactList}\small\item\em Set an integer directory identifier for this processor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_ad677773938f15a0e830088aaffeafbaa}{set\+Common\+Control}} ()
\begin{DoxyCompactList}\small\item\em Enable \char`\"{}replicated\char`\"{} mode in multi-\/system simulations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_aaa8beea67ced5beb8f92d8bba48a6bae}{set\+Param\+File\+Name}} (const std\+::string \&\mbox{\hyperlink{classUtil_1_1FileMaster_af9a65511bc82cfc4ac8f70158eaeef14}{param\+File\+Name}})
\begin{DoxyCompactList}\small\item\em Set the parameter file name. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_ade669815f45d05b720302848be13a316}{set\+Command\+File\+Name}} (const std\+::string \&\mbox{\hyperlink{classUtil_1_1FileMaster_aac43a7dd477a2ce01b81c645a7378235}{command\+File\+Name}})
\begin{DoxyCompactList}\small\item\em Set the command file name. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_aea52ab3720c8bb6696252ca4e4f190dd}{set\+Input\+Prefix}} (const std\+::string \&input\+Prefix)
\begin{DoxyCompactList}\small\item\em Set the input file prefix string. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_ad6fec8651e4f00d135e3572021ed3b7c}{set\+Output\+Prefix}} (const std\+::string \&output\+Prefix)
\begin{DoxyCompactList}\small\item\em Set the output file prefix string. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classUtil_1_1FileMaster_a7feb4503d8a177959fb2e9625d74de7e}{read\+Parameters}} (std\+::istream \&in)
\begin{DoxyCompactList}\small\item\em Read parameter file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Serialization}\par
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classUtil_1_1FileMaster_adbbb16a44ffcad1347d963d2539fea49}{load\+Parameters}} (\mbox{\hyperlink{classUtil_1_1Serializable_ac6bcbf9bac926cada5a398804410e891}{Serializable\+::\+I\+Archive}} \&ar)
\begin{DoxyCompactList}\small\item\em Load internal state from file. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classUtil_1_1FileMaster_a242dce8b12bc4a5d8539308f2a702500}{save}} (\mbox{\hyperlink{classUtil_1_1Serializable_aca43a1eea5ec5f13189a57892a7a6d04}{Serializable\+::\+O\+Archive}} \&ar)
\begin{DoxyCompactList}\small\item\em Save internal state to file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ File Opening}\par
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_a7181498c4c42b1fefb17408dcf64af93}{open}} (const std\+::string \&name, std\+::ifstream \&in, std\+::ios\+\_\+base\+::openmode mode=std\+::ios\+\_\+base\+::in) const
\begin{DoxyCompactList}\small\item\em Open an input file with a known path and open mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_a0a4e7620f0febbad5e89b219586cc20d}{open}} (const std\+::string \&name, std\+::ofstream \&out, std\+::ios\+\_\+base\+::openmode mode=std\+::ios\+\_\+base\+::out) const
\begin{DoxyCompactList}\small\item\em Open an output file with a known path and open mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_a54848e2f2f46ebf6231b225f92bf1fe4}{open\+Control\+File}} (const std\+::string \&name, std\+::ifstream \&in) const
\begin{DoxyCompactList}\small\item\em Open an input parameter or command file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_a3e09c03947988d2863e71e2a426c681c}{open\+Restart\+I\+File}} (const std\+::string \&name, std\+::ifstream \&in, std\+::ios\+\_\+base\+::openmode mode=std\+::ios\+\_\+base\+::in) const
\begin{DoxyCompactList}\small\item\em Open an input restart dump file for reading. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_afa350e3054cef8196727b06e9c61fb76}{open\+Restart\+O\+File}} (const std\+::string \&name, std\+::ofstream \&out, std\+::ios\+\_\+base\+::openmode mode=std\+::ios\+\_\+base\+::out) const
\begin{DoxyCompactList}\small\item\em Open an output restart file for writing. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_a752d77ce79afadfb49f76b5ff898912a}{open\+Input\+File}} (const std\+::string \&filename, std\+::ifstream \&in, std\+::ios\+\_\+base\+::openmode mode=std\+::ios\+\_\+base\+::in) const
\begin{DoxyCompactList}\small\item\em Open an input file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtil_1_1FileMaster_a2166cd153810243b47666f0281da41aa}{open\+Output\+File}} (const std\+::string \&filename, std\+::ofstream \&out, std\+::ios\+\_\+base\+::openmode mode=std\+::ios\+\_\+base\+::out) const
\begin{DoxyCompactList}\small\item\em Open an output file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsubsection*{Control Files}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classUtil_1_1FileMaster_acc6bcda9964f9cfedd85745d1f207c10}{is\+Common\+Control}} () const
\begin{DoxyCompactList}\small\item\em Is set for common param and command files? \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classUtil_1_1FileMaster_af9a65511bc82cfc4ac8f70158eaeef14}{param\+File\+Name}} () const
\begin{DoxyCompactList}\small\item\em Return the param file name, if any. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classUtil_1_1FileMaster_aac43a7dd477a2ce01b81c645a7378235}{command\+File\+Name}} () const
\begin{DoxyCompactList}\small\item\em Return the command file name. \end{DoxyCompactList}\item 
std\+::istream \& \mbox{\hyperlink{classUtil_1_1FileMaster_aa6e2bee2242001a0eeadc50d1a0a3837}{param\+File}} ()
\begin{DoxyCompactList}\small\item\em Get a default parameter stream by reference. \end{DoxyCompactList}\item 
std\+::istream \& \mbox{\hyperlink{classUtil_1_1FileMaster_a4dfc5422ef408b9ea55f011dd298a9d2}{command\+File}} ()
\begin{DoxyCompactList}\small\item\em Get the command input stream by reference. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}


\doxysubsubsection{Detailed Description}
A \mbox{\hyperlink{classUtil_1_1FileMaster}{File\+Master}} manages input and output files for a simulation. 

\doxysubparagraph*{File types }

A \mbox{\hyperlink{classUtil_1_1FileMaster}{File\+Master}} manages a set of input and output files for a ~\newline
 molecular simulation. It provides methods to open four different types of file, which are located in different places within a standard directory structure. These file types are\+:


\begin{DoxyItemize}
\item Control input files, i.\+e., parameter and command files
\item Restart files, which can be opened for input or output
\item Input data files (e.\+g., input configuration files)
\item Output data files (e.\+g., trajectories and analysis output files)
\end{DoxyItemize}

Several member functions are provided to open different types of file\+:


\begin{DoxyItemize}
\item open\+Control\+File opens a control file for reading
\item open\+Restart\+I\+File opens a restart file for reading
\item open\+Restart\+O\+File opens a restart file for writing
\item open\+Input\+File opens an input data file
\item open\+Output\+File opens an output data file
\end{DoxyItemize}

Each of these functions takes a base file name and a file stream as an argument, constructs a complete path by prepending an appropriate prefix to the base name, and opens the file.

Slightly different directory structures are used for file paths in simulations of a single system and for parallel simulations of multiple systems, as discussed below.

\doxysubparagraph*{Single-\/system simulations }

In simulations of a single system, paths to the different types of file are constructed by prepending some combination of the following elements before a base file name\+:


\begin{DoxyItemize}
\item Root directory prefix\+: This is the path from the current working directory to the root level directory for all files associated with a simulation run. It defaults to an empty string and may be reset by calling the \mbox{\hyperlink{classUtil_1_1FileMaster_ad3c7e95b9853b10bde9bcaf4c1cae60c}{set\+Root\+Prefix()}} function.
\item Input prefix\+: This string is prepended to the base name of all input data files.
\item Output prefix\+: This string is prepended to the base name of all output data files.
\end{DoxyItemize}

Prefix strings that represent directories must end with the directory separator character \char`\"{}/\char`\"{} in order to give a valid path when prepended to a file name. The root directory prefix must be either the empty string or such a directory path. The input and output prefix strings are often also chosen to be directory paths, in order to place input and output files in different subdirectories (e.\+g., \char`\"{}in/\char`\"{} and \char`\"{}out/\char`\"{}).

In simulations of a single systems, paths to control and restart files are constructed by concatenating the root prefix (if any) to the base file name.

Paths to input and output files are constructed are constructed by concatenating the root prefix (if any), the input or output prefix, and the base file.

\doxysubparagraph*{Multi-\/system simulations }

A parallel simulation of multiple systems use a directory structure in which the root directory (specified by the root directory prefix) contains a set of numbered subdirectories named \char`\"{}0/\char`\"{}, \char`\"{}1/\char`\"{}, \char`\"{}2/\char`\"{}, etc. Each such numbered directory contains input, output and restart files that are specific to a particular system. Each such numbered directory will be referred to in what follows as the system directory for the associated system. The integer index for the system, which is also the directory name, must be set by the \mbox{\hyperlink{classUtil_1_1FileMaster_ae295d9dc32e5ee3b4ac2b4b2a8f185f1}{set\+Directory\+Id()}} method before any files are opened.

In such simulations, a path to a restart files for a system is constructed by concatentaing the system directory path and the restart file base name, thus placing these files in the system directory. Paths to input and output data files are constructed by concatenating the system directory path, an input or output prefix string, and the file base name.

Two different modes of operation are possible for simulations of multiple systems, which differ in the treatment of control files. In \char`\"{}independent\char`\"{} mode, simulations of multiple systems are assumed to be completely independent and to require separate parameter and command control files for each system. In this case, the \mbox{\hyperlink{classUtil_1_1FileMaster_a54848e2f2f46ebf6231b225f92bf1fe4}{open\+Control\+File()}} function for each system opens a file in the system directory for that system. In \char`\"{}replicated\char`\"{} mode, all simulations are controlled by a single parameter file and a single command file, both of which are assumed to be in the shared root directory. \char`\"{}\+Independent\char`\"{} mode is enabled by default. \char`\"{}\+Replicated\char`\"{} mode may be chosen by calling the function \char`\"{}set\+Common\+Control()\char`\"{} before opening any any control files.

\doxysubparagraph*{Control Files }

The functions set\+Parameter\+File\+Name() and \mbox{\hyperlink{classUtil_1_1FileMaster_ade669815f45d05b720302848be13a316}{set\+Command\+File\+Name()}} can be used to programmatically set the parameter and command file base names before reading a parameter file. If \mbox{\hyperlink{classUtil_1_1FileMaster_ade669815f45d05b720302848be13a316}{set\+Command\+File\+Name()}} is not called before \mbox{\hyperlink{classUtil_1_1FileMaster_a7feb4503d8a177959fb2e9625d74de7e}{read\+Parameters()}}, the \mbox{\hyperlink{classUtil_1_1FileMaster_a7feb4503d8a177959fb2e9625d74de7e}{read\+Parameters()}} function expects to find a \char`\"{}command\+File\+Name\char`\"{} as the first parameter in the \mbox{\hyperlink{classUtil_1_1FileMaster}{File\+Master}} parameter file block.

After parameter and command file names have been set, the \mbox{\hyperlink{classUtil_1_1FileMaster_aa6e2bee2242001a0eeadc50d1a0a3837}{param\+File()}} and \mbox{\hyperlink{classUtil_1_1FileMaster_a4dfc5422ef408b9ea55f011dd298a9d2}{command\+File()}} functions return references to the files. The first time each of these functions is called, it calls \mbox{\hyperlink{classUtil_1_1FileMaster_a54848e2f2f46ebf6231b225f92bf1fe4}{open\+Control\+File()}} internally to open the appropriate file. 

Definition at line 142 of file File\+Master.\+h.



\doxysubsubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classUtil_1_1FileMaster_a3a2076a0a99e8bf9771da07adddab445}\label{classUtil_1_1FileMaster_a3a2076a0a99e8bf9771da07adddab445}} 
\index{Util::FileMaster@{Util::FileMaster}!FileMaster@{FileMaster}}
\index{FileMaster@{FileMaster}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{FileMaster()}{FileMaster()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Util\+::\+File\+Master\+::\+File\+Master (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructor. 



Definition at line 23 of file File\+Master.\+cpp.



References Util\+::\+Param\+Composite\+::set\+Class\+Name().

\mbox{\Hypertarget{classUtil_1_1FileMaster_ab8c226b9cc0eb69f8c4eb71b76a50431}\label{classUtil_1_1FileMaster_ab8c226b9cc0eb69f8c4eb71b76a50431}} 
\index{Util::FileMaster@{Util::FileMaster}!FileMaster@{FileMaster}}
\index{FileMaster@{FileMaster}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{FileMaster()}{FileMaster()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Util\+::\+File\+Master\+::\+File\+Master (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classUtil_1_1FileMaster}{File\+Master}} \&}]{copy }\end{DoxyParamCaption})}



Copy constructor. 


\begin{DoxyParams}{Parameters}
{\em copy} & \mbox{\hyperlink{classUtil_1_1FileMaster}{File\+Master}} object to be copied \\
\hline
\end{DoxyParams}


Definition at line 39 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_ac6cfc4669da3c02c2817813e9b281bfb}\label{classUtil_1_1FileMaster_ac6cfc4669da3c02c2817813e9b281bfb}} 
\index{Util::FileMaster@{Util::FileMaster}!````~FileMaster@{$\sim$FileMaster}}
\index{````~FileMaster@{$\sim$FileMaster}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{$\sim$FileMaster()}{~FileMaster()}}
{\footnotesize\ttfamily Util\+::\+File\+Master\+::$\sim$\+File\+Master (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Destructor. 



Definition at line 55 of file File\+Master.\+cpp.



\doxysubsubsection{Member Function Documentation}
\mbox{\Hypertarget{classUtil_1_1FileMaster_ad3c7e95b9853b10bde9bcaf4c1cae60c}\label{classUtil_1_1FileMaster_ad3c7e95b9853b10bde9bcaf4c1cae60c}} 
\index{Util::FileMaster@{Util::FileMaster}!setRootPrefix@{setRootPrefix}}
\index{setRootPrefix@{setRootPrefix}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{setRootPrefix()}{setRootPrefix()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::set\+Root\+Prefix (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{root\+Prefix }\end{DoxyParamCaption})}



Set the path from current directory to root directory. 


\begin{DoxyParams}{Parameters}
{\em root\+Prefix} & root directory prefix string for all paths \\
\hline
\end{DoxyParams}


Definition at line 70 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_ae295d9dc32e5ee3b4ac2b4b2a8f185f1}\label{classUtil_1_1FileMaster_ae295d9dc32e5ee3b4ac2b4b2a8f185f1}} 
\index{Util::FileMaster@{Util::FileMaster}!setDirectoryId@{setDirectoryId}}
\index{setDirectoryId@{setDirectoryId}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{setDirectoryId()}{setDirectoryId()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::set\+Directory\+Id (\begin{DoxyParamCaption}\item[{int}]{directory\+Id }\end{DoxyParamCaption})}



Set an integer directory identifier for this processor. 

This method should be called only for simulations of multiple systems, to set an integer identifier for the physical system associated with this processor. After calling this function with an integer n, a directory id prefix \char`\"{}n/\char`\"{} will be prepended to the paths of input, output and restart files associated with that system.


\begin{DoxyParams}{Parameters}
{\em directory\+Id} & integer subdirectory name \\
\hline
\end{DoxyParams}


Definition at line 76 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_ad677773938f15a0e830088aaffeafbaa}\label{classUtil_1_1FileMaster_ad677773938f15a0e830088aaffeafbaa}} 
\index{Util::FileMaster@{Util::FileMaster}!setCommonControl@{setCommonControl}}
\index{setCommonControl@{setCommonControl}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{setCommonControl()}{setCommonControl()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::set\+Common\+Control (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Enable \char`\"{}replicated\char`\"{} mode in multi-\/system simulations. 

Call this function to enable the use of single parameter and command files to control simulations of multiple systems. 

Definition at line 88 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_aaa8beea67ced5beb8f92d8bba48a6bae}\label{classUtil_1_1FileMaster_aaa8beea67ced5beb8f92d8bba48a6bae}} 
\index{Util::FileMaster@{Util::FileMaster}!setParamFileName@{setParamFileName}}
\index{setParamFileName@{setParamFileName}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{setParamFileName()}{setParamFileName()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::set\+Param\+File\+Name (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{param\+File\+Name }\end{DoxyParamCaption})}



Set the parameter file name. 


\begin{DoxyParams}{Parameters}
{\em param\+File\+Name} & name of parameter file \\
\hline
\end{DoxyParams}


Definition at line 106 of file File\+Master.\+cpp.



References param\+File\+Name().

\mbox{\Hypertarget{classUtil_1_1FileMaster_ade669815f45d05b720302848be13a316}\label{classUtil_1_1FileMaster_ade669815f45d05b720302848be13a316}} 
\index{Util::FileMaster@{Util::FileMaster}!setCommandFileName@{setCommandFileName}}
\index{setCommandFileName@{setCommandFileName}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{setCommandFileName()}{setCommandFileName()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::set\+Command\+File\+Name (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{command\+File\+Name }\end{DoxyParamCaption})}



Set the command file name. 


\begin{DoxyParams}{Parameters}
{\em command\+File\+Name} & name of command file \\
\hline
\end{DoxyParams}


Definition at line 112 of file File\+Master.\+cpp.



References command\+File\+Name().

\mbox{\Hypertarget{classUtil_1_1FileMaster_aea52ab3720c8bb6696252ca4e4f190dd}\label{classUtil_1_1FileMaster_aea52ab3720c8bb6696252ca4e4f190dd}} 
\index{Util::FileMaster@{Util::FileMaster}!setInputPrefix@{setInputPrefix}}
\index{setInputPrefix@{setInputPrefix}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{setInputPrefix()}{setInputPrefix()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::set\+Input\+Prefix (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{input\+Prefix }\end{DoxyParamCaption})}



Set the input file prefix string. 


\begin{DoxyParams}{Parameters}
{\em input\+Prefix} & input file prefix string \\
\hline
\end{DoxyParams}


Definition at line 94 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_ad6fec8651e4f00d135e3572021ed3b7c}\label{classUtil_1_1FileMaster_ad6fec8651e4f00d135e3572021ed3b7c}} 
\index{Util::FileMaster@{Util::FileMaster}!setOutputPrefix@{setOutputPrefix}}
\index{setOutputPrefix@{setOutputPrefix}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{setOutputPrefix()}{setOutputPrefix()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::set\+Output\+Prefix (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{output\+Prefix }\end{DoxyParamCaption})}



Set the output file prefix string. 


\begin{DoxyParams}{Parameters}
{\em output\+Prefix} & output file prefix string \\
\hline
\end{DoxyParams}


Definition at line 100 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_a7feb4503d8a177959fb2e9625d74de7e}\label{classUtil_1_1FileMaster_a7feb4503d8a177959fb2e9625d74de7e}} 
\index{Util::FileMaster@{Util::FileMaster}!readParameters@{readParameters}}
\index{readParameters@{readParameters}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{readParameters()}{readParameters()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::read\+Parameters (\begin{DoxyParamCaption}\item[{std\+::istream \&}]{in }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Read parameter file. 

Reads the input\+Prefix and output\+Prefix string variables.


\begin{DoxyParams}{Parameters}
{\em in} & pararameter file input stream \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classUtil_1_1ParamComposite_a172a3a656b5829c8d758424ad09a22a6}{Util\+::\+Param\+Composite}}.



Definition at line 118 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_adbbb16a44ffcad1347d963d2539fea49}\label{classUtil_1_1FileMaster_adbbb16a44ffcad1347d963d2539fea49}} 
\index{Util::FileMaster@{Util::FileMaster}!loadParameters@{loadParameters}}
\index{loadParameters@{loadParameters}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{loadParameters()}{loadParameters()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::load\+Parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classUtil_1_1Serializable_ac6bcbf9bac926cada5a398804410e891}{Serializable\+::\+I\+Archive}} \&}]{ar }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Load internal state from file. 


\begin{DoxyParams}{Parameters}
{\em ar} & input/loading archive \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classUtil_1_1ParamComposite_adec07dcba0895ba69463147314cde7ce}{Util\+::\+Param\+Composite}}.



Definition at line 130 of file File\+Master.\+cpp.



References Util\+::\+Mpi\+Loader$<$ I\+Archive $>$\+::load().

\mbox{\Hypertarget{classUtil_1_1FileMaster_a242dce8b12bc4a5d8539308f2a702500}\label{classUtil_1_1FileMaster_a242dce8b12bc4a5d8539308f2a702500}} 
\index{Util::FileMaster@{Util::FileMaster}!save@{save}}
\index{save@{save}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::save (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classUtil_1_1Serializable_aca43a1eea5ec5f13189a57892a7a6d04}{Serializable\+::\+O\+Archive}} \&}]{ar }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Save internal state to file. 


\begin{DoxyParams}{Parameters}
{\em ar} & output/saving archive \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classUtil_1_1ParamComposite_a3c430a4e31a9573eadb06ab89d3bf780}{Util\+::\+Param\+Composite}}.



Definition at line 145 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_a7181498c4c42b1fefb17408dcf64af93}\label{classUtil_1_1FileMaster_a7181498c4c42b1fefb17408dcf64af93}} 
\index{Util::FileMaster@{Util::FileMaster}!open@{open}}
\index{open@{open}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{open()}{open()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::open (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{std\+::ifstream \&}]{in,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode = {\ttfamily std\+:\+:ios\+\_\+base\+:\+:in} }\end{DoxyParamCaption}) const}



Open an input file with a known path and open mode. 

Adds error checking to C++ ifstream\+::open function.


\begin{DoxyParams}{Parameters}
{\em name} & complete file path \\
\hline
{\em in} & ifstream object to associated with a file \\
\hline
{\em mode} & read mode \\
\hline
\end{DoxyParams}


Definition at line 198 of file File\+Master.\+cpp.



References U\+T\+I\+L\+\_\+\+T\+H\+R\+OW.



Referenced by open\+Control\+File(), open\+Input\+File(), open\+Output\+File(), open\+Restart\+I\+File(), and open\+Restart\+O\+File().

\mbox{\Hypertarget{classUtil_1_1FileMaster_a0a4e7620f0febbad5e89b219586cc20d}\label{classUtil_1_1FileMaster_a0a4e7620f0febbad5e89b219586cc20d}} 
\index{Util::FileMaster@{Util::FileMaster}!open@{open}}
\index{open@{open}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{open()}{open()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::open (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{std\+::ofstream \&}]{out,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode = {\ttfamily std\+:\+:ios\+\_\+base\+:\+:out} }\end{DoxyParamCaption}) const}



Open an output file with a known path and open mode. 

Add error checking to C++ ofstream\+::open function.


\begin{DoxyParams}{Parameters}
{\em name} & complete file path \\
\hline
{\em out} & ofstream object to associated with a file \\
\hline
{\em mode} & write mode \\
\hline
\end{DoxyParams}


Definition at line 213 of file File\+Master.\+cpp.



References U\+T\+I\+L\+\_\+\+T\+H\+R\+OW.

\mbox{\Hypertarget{classUtil_1_1FileMaster_a54848e2f2f46ebf6231b225f92bf1fe4}\label{classUtil_1_1FileMaster_a54848e2f2f46ebf6231b225f92bf1fe4}} 
\index{Util::FileMaster@{Util::FileMaster}!openControlFile@{openControlFile}}
\index{openControlFile@{openControlFile}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{openControlFile()}{openControlFile()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::open\+Control\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{std\+::ifstream \&}]{in }\end{DoxyParamCaption}) const}



Open an input parameter or command file. 

The path to this file constructed by concatenating\+: \mbox{[}root\+Prefix\mbox{]} + \mbox{[}directory\+Id\+Prefix\mbox{]} + name + \char`\"{}.\char`\"{} + ext

The directory\+Id\+Prefix is included only if a directory id has not been set and the \mbox{\hyperlink{classUtil_1_1FileMaster_ad677773938f15a0e830088aaffeafbaa}{set\+Common\+Control()}} function has not been called.


\begin{DoxyParams}{Parameters}
{\em name} & base file name, without any prefix \\
\hline
{\em in} & ifstream object to open \\
\hline
\end{DoxyParams}


Definition at line 227 of file File\+Master.\+cpp.



References open().



Referenced by command\+File(), and param\+File().

\mbox{\Hypertarget{classUtil_1_1FileMaster_a3e09c03947988d2863e71e2a426c681c}\label{classUtil_1_1FileMaster_a3e09c03947988d2863e71e2a426c681c}} 
\index{Util::FileMaster@{Util::FileMaster}!openRestartIFile@{openRestartIFile}}
\index{openRestartIFile@{openRestartIFile}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{openRestartIFile()}{openRestartIFile()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::open\+Restart\+I\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{std\+::ifstream \&}]{in,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode = {\ttfamily std\+:\+:ios\+\_\+base\+:\+:in} }\end{DoxyParamCaption}) const}



Open an input restart dump file for reading. 

The path to this file constructed by concatenating\+: \mbox{[}root\+Prefix\mbox{]} + \mbox{[}directory\+Id\+Prefix\mbox{]} + name + \char`\"{}.\char`\"{} + ext


\begin{DoxyParams}{Parameters}
{\em name} & base file name, without any prefix or extension \\
\hline
{\em in} & ifstream object to open \\
\hline
{\em mode} & open mode \\
\hline
\end{DoxyParams}


Definition at line 242 of file File\+Master.\+cpp.



References open().

\mbox{\Hypertarget{classUtil_1_1FileMaster_afa350e3054cef8196727b06e9c61fb76}\label{classUtil_1_1FileMaster_afa350e3054cef8196727b06e9c61fb76}} 
\index{Util::FileMaster@{Util::FileMaster}!openRestartOFile@{openRestartOFile}}
\index{openRestartOFile@{openRestartOFile}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{openRestartOFile()}{openRestartOFile()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::open\+Restart\+O\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{std\+::ofstream \&}]{out,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode = {\ttfamily std\+:\+:ios\+\_\+base\+:\+:out} }\end{DoxyParamCaption}) const}



Open an output restart file for writing. 

The path to this file constructed by concatenating\+: \mbox{[}root\+Prefix\mbox{]} + \mbox{[}directory\+Id\+Prefix\mbox{]} + name


\begin{DoxyParams}{Parameters}
{\em name} & base file name \\
\hline
{\em out} & ofstream object to open \\
\hline
{\em mode} & open mode \\
\hline
\end{DoxyParams}


Definition at line 257 of file File\+Master.\+cpp.



References open().

\mbox{\Hypertarget{classUtil_1_1FileMaster_a752d77ce79afadfb49f76b5ff898912a}\label{classUtil_1_1FileMaster_a752d77ce79afadfb49f76b5ff898912a}} 
\index{Util::FileMaster@{Util::FileMaster}!openInputFile@{openInputFile}}
\index{openInputFile@{openInputFile}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{openInputFile()}{openInputFile()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::open\+Input\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{filename,  }\item[{std\+::ifstream \&}]{in,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode = {\ttfamily std\+:\+:ios\+\_\+base\+:\+:in} }\end{DoxyParamCaption}) const}



Open an input file. 

The path to this file constructed by concatenating\+: \mbox{[}root\+Prefix\mbox{]} + \mbox{[}directory\+Id\+Prefix\mbox{]} + input\+Prefix + filename.


\begin{DoxyParams}{Parameters}
{\em filename} & file name, without any prefix \\
\hline
{\em in} & ifstream object to associated with a file \\
\hline
{\em mode} & bit mask that specifies opening mode \\
\hline
\end{DoxyParams}


Definition at line 273 of file File\+Master.\+cpp.



References open().

\mbox{\Hypertarget{classUtil_1_1FileMaster_a2166cd153810243b47666f0281da41aa}\label{classUtil_1_1FileMaster_a2166cd153810243b47666f0281da41aa}} 
\index{Util::FileMaster@{Util::FileMaster}!openOutputFile@{openOutputFile}}
\index{openOutputFile@{openOutputFile}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{openOutputFile()}{openOutputFile()}}
{\footnotesize\ttfamily void Util\+::\+File\+Master\+::open\+Output\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{filename,  }\item[{std\+::ofstream \&}]{out,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode = {\ttfamily std\+:\+:ios\+\_\+base\+:\+:out} }\end{DoxyParamCaption}) const}



Open an output file. 

The path to this file constructed by concatenating\+: \mbox{[}root\+Prefix\mbox{]} + \mbox{[}directory\+Id\+Prefix\mbox{]} + output\+Prefix + filename.


\begin{DoxyParams}{Parameters}
{\em filename} & file name, without any prefix \\
\hline
{\em out} & ofstream object to associated with a file \\
\hline
{\em mode} & bit mask that specifies opening mode \\
\hline
\end{DoxyParams}


Definition at line 290 of file File\+Master.\+cpp.



References open().

\mbox{\Hypertarget{classUtil_1_1FileMaster_acc6bcda9964f9cfedd85745d1f207c10}\label{classUtil_1_1FileMaster_acc6bcda9964f9cfedd85745d1f207c10}} 
\index{Util::FileMaster@{Util::FileMaster}!isCommonControl@{isCommonControl}}
\index{isCommonControl@{isCommonControl}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{isCommonControl()}{isCommonControl()}}
{\footnotesize\ttfamily bool Util\+::\+File\+Master\+::is\+Common\+Control (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Is set for common param and command files? 



Definition at line 308 of file File\+Master.\+cpp.

\mbox{\Hypertarget{classUtil_1_1FileMaster_af9a65511bc82cfc4ac8f70158eaeef14}\label{classUtil_1_1FileMaster_af9a65511bc82cfc4ac8f70158eaeef14}} 
\index{Util::FileMaster@{Util::FileMaster}!paramFileName@{paramFileName}}
\index{paramFileName@{paramFileName}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{paramFileName()}{paramFileName()}}
{\footnotesize\ttfamily std\+::string Util\+::\+File\+Master\+::param\+File\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Return the param file name, if any. 



Definition at line 466 of file File\+Master.\+h.



Referenced by set\+Param\+File\+Name().

\mbox{\Hypertarget{classUtil_1_1FileMaster_aac43a7dd477a2ce01b81c645a7378235}\label{classUtil_1_1FileMaster_aac43a7dd477a2ce01b81c645a7378235}} 
\index{Util::FileMaster@{Util::FileMaster}!commandFileName@{commandFileName}}
\index{commandFileName@{commandFileName}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{commandFileName()}{commandFileName()}}
{\footnotesize\ttfamily std\+::string Util\+::\+File\+Master\+::command\+File\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Return the command file name. 

The base name of the command file is read from the parameter file by the \mbox{\hyperlink{classUtil_1_1FileMaster_a7feb4503d8a177959fb2e9625d74de7e}{read\+Parameters()}} method. 

Definition at line 472 of file File\+Master.\+h.



Referenced by set\+Command\+File\+Name().

\mbox{\Hypertarget{classUtil_1_1FileMaster_aa6e2bee2242001a0eeadc50d1a0a3837}\label{classUtil_1_1FileMaster_aa6e2bee2242001a0eeadc50d1a0a3837}} 
\index{Util::FileMaster@{Util::FileMaster}!paramFile@{paramFile}}
\index{paramFile@{paramFile}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{paramFile()}{paramFile()}}
{\footnotesize\ttfamily std\+::istream \& Util\+::\+File\+Master\+::param\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get a default parameter stream by reference. 

If \mbox{\hyperlink{classUtil_1_1FileMaster_ae295d9dc32e5ee3b4ac2b4b2a8f185f1}{set\+Directory\+Id()}} has not been called, of if \mbox{\hyperlink{classUtil_1_1FileMaster_ad677773938f15a0e830088aaffeafbaa}{set\+Common\+Control()}} has been called, this method returns std\+::cin.

If \mbox{\hyperlink{classUtil_1_1FileMaster_ae295d9dc32e5ee3b4ac2b4b2a8f185f1}{set\+Directory\+Id()}} has been called and set\+Common\+Controld() has not, this method returns a reference to a file \char`\"{}n/param\char`\"{}. This file is opened for reading the first time it is returned by this function. 

Definition at line 155 of file File\+Master.\+cpp.



References open\+Control\+File().

\mbox{\Hypertarget{classUtil_1_1FileMaster_a4dfc5422ef408b9ea55f011dd298a9d2}\label{classUtil_1_1FileMaster_a4dfc5422ef408b9ea55f011dd298a9d2}} 
\index{Util::FileMaster@{Util::FileMaster}!commandFile@{commandFile}}
\index{commandFile@{commandFile}!Util::FileMaster@{Util::FileMaster}}
\doxyparagraph{\texorpdfstring{commandFile()}{commandFile()}}
{\footnotesize\ttfamily std\+::istream \& Util\+::\+File\+Master\+::command\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the command input stream by reference. 

If the command\+File\+Name string is equal to the string literal \char`\"{}paramfile\char`\"{}, this method returns the same stream as \mbox{\hyperlink{classUtil_1_1FileMaster_aa6e2bee2242001a0eeadc50d1a0a3837}{param\+File()}}. Otherwise, it returns a reference to a file whose name is given by the command\+File\+Name string. If \mbox{\hyperlink{classUtil_1_1FileMaster_ae295d9dc32e5ee3b4ac2b4b2a8f185f1}{set\+Directory\+Id(int)}} has not been called, the path to this file (absolute or relative to the working directory) is equal to the command\+File\+Name string. If set\+Directory() has been called with an integer argument n, the path to this file is obtained adding \char`\"{}n/\char`\"{} as a prefix to the command\+File\+Name. In either case, if the command\+File\+Name is not \char`\"{}paramfile\char`\"{}, the required file is opened for reading the first time it is returned by this method. 

Definition at line 178 of file File\+Master.\+cpp.



References open\+Control\+File().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
File\+Master.\+h\item 
File\+Master.\+cpp\end{DoxyCompactItemize}
